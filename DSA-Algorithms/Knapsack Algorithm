#include <stdio.h>
#include <stdio.h>

void sortItems(int m, double obj[2][m]) {
    for (int i = 0; i < m - 1; i++) {
        for (int j = i + 1; j < m; j++) {
            double r1 = obj[0][i] / obj[1][i];  // profit/weight
            double r2 = obj[0][j] / obj[1][j];
            if (r1 < r2) {  // descending order
                for (int k = 0; k < 2; k++) {
                    double temp = obj[k][i];
                    obj[k][i] = obj[k][j];
                    obj[k][j] = temp;
                }
            }
        }
    }
}

double ksock(int n, int m, double obj[n][m],int capacity) {
    sortItems(m, obj);
    double profit=0;
    for(int i=0;i<m;i++){
        if(obj[1][i]<=capacity){
            profit+=obj[0][i];
            capacity-=obj[1][i];
        }
        else{
            profit += obj[0][i] * capacity / obj[1][i];
            break;
        }
    }
    return profit;
}


int main() {
    double obj[2][7]={
        {12,17,9,7,5,21,8},
        {2,5,7,3,1,4,1}
    };
    printf("Most amount of profit is:%2lf",ksock(2,7,obj,15));
    return 0;
}
